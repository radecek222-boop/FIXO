<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIXO - Okam≈æit√© opravy dom√°c√≠ch z√°vad</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="public/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* App-specific overrides */
        .app-bg {
            background: linear-gradient(135deg, var(--color-primary-light) 0%, var(--color-secondary-light) 100%);
            min-height: 100vh;
        }
        .upload-card {
            background: var(--color-bg-primary);
            border-radius: var(--radius-2xl);
            box-shadow: var(--shadow-xl);
            padding: var(--space-8);
        }
        .quick-stat {
            background: var(--color-bg-tertiary);
            border-radius: var(--radius-lg);
            padding: var(--space-3);
            text-align: center;
        }
        .example-card {
            background: var(--color-bg-primary);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-normal);
        }
        .example-card:hover {
            box-shadow: var(--shadow-lg);
        }
        .result-header {
            background: var(--gradient-primary);
            color: var(--color-text-inverse);
            padding: var(--space-6);
        }
        .info-box {
            background: var(--color-bg-tertiary);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            text-align: center;
        }
        .step-box {
            background: linear-gradient(135deg, var(--color-primary-light) 0%, var(--color-secondary-light) 100%);
            border-radius: var(--radius-xl);
            padding: var(--space-8);
            text-align: center;
        }
        .step-item {
            display: flex;
            align-items: center;
            padding: var(--space-3);
            border-radius: var(--radius-lg);
        }
        .step-item-active {
            background: var(--color-primary-light);
            border-left: 4px solid var(--color-primary);
        }
        .step-item-completed {
            background: var(--color-success-light);
            opacity: 0.75;
        }
        .step-item-pending {
            background: var(--color-bg-tertiary);
        }
        .knowledge-card {
            background: var(--color-bg-primary);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            transition: all var(--transition-normal);
        }
        .knowledge-card:hover {
            box-shadow: var(--shadow-xl);
        }
        .knowledge-card-header {
            background: var(--gradient-primary);
            color: var(--color-text-inverse);
            padding: var(--space-4);
        }
        .issue-item {
            border-left: 4px solid var(--color-primary);
            padding-left: var(--space-3);
        }
        /* Drag & Drop styles */
        .drop-zone {
            border: 3px dashed var(--color-border);
            border-radius: var(--radius-xl);
            padding: var(--space-8);
            text-align: center;
            transition: all var(--transition-normal);
            cursor: pointer;
            margin-bottom: var(--space-4);
        }
        .drop-zone:hover {
            border-color: var(--color-primary);
            background-color: var(--color-primary-light);
        }
        .drop-zone.drag-over {
            border-color: var(--color-primary);
            background-color: var(--color-primary-light);
            transform: scale(1.02);
        }
        .drop-zone-icon {
            font-size: var(--text-5xl);
            color: var(--color-primary);
            margin-bottom: var(--space-4);
        }
        .category-filter {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-2);
            justify-content: center;
            margin-bottom: var(--space-6);
        }
        .category-btn {
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-full);
            border: 2px solid var(--color-border);
            background: var(--color-bg-primary);
            cursor: pointer;
            transition: all var(--transition-fast);
            font-size: var(--text-sm);
        }
        .category-btn:hover {
            border-color: var(--color-primary);
        }
        .category-btn.active {
            background: var(--color-primary);
            color: var(--color-text-inverse);
            border-color: var(--color-primary);
        }
        /* Language Selector */
        .language-selector {
            position: relative;
            display: inline-block;
        }
        .language-btn {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-3);
            background: var(--color-bg-secondary);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            cursor: pointer;
            font-size: var(--text-sm);
            transition: all var(--transition-fast);
        }
        .language-btn:hover {
            background: var(--color-bg-tertiary);
        }
        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: var(--space-1);
            background: var(--color-bg-primary);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            min-width: 200px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
        }
        .language-dropdown-hidden {
            display: none;
        }
        .language-option {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-3);
            cursor: pointer;
            transition: background var(--transition-fast);
        }
        .language-option:hover {
            background: var(--color-bg-secondary);
        }
        .language-option.active {
            background: var(--color-primary-light);
            color: var(--color-primary);
        }
        .language-flag {
            font-size: var(--text-lg);
        }
        .translating-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        .translating-box {
            background: var(--color-bg-primary);
            padding: var(--space-8);
            border-radius: var(--radius-xl);
            text-align: center;
            box-shadow: var(--shadow-xl);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Seznam podporovan√Ωch jazyk≈Ø (50+ svƒõtov√Ωch jazyk≈Ø)
        const languages = [
            { code: 'cs', name: 'ƒåe≈°tina', flag: 'üá®üáø', native: 'ƒåe≈°tina' },
            { code: 'en', name: 'English', flag: 'üá¨üáß', native: 'English' },
            { code: 'de', name: 'Nƒõmƒçina', flag: 'üá©üá™', native: 'Deutsch' },
            { code: 'es', name: '≈†panƒõl≈°tina', flag: 'üá™üá∏', native: 'Espa√±ol' },
            { code: 'fr', name: 'Francouz≈°tina', flag: 'üá´üá∑', native: 'Fran√ßais' },
            { code: 'it', name: 'Ital≈°tina', flag: 'üáÆüáπ', native: 'Italiano' },
            { code: 'pt', name: 'Portugal≈°tina', flag: 'üáµüáπ', native: 'Portugu√™s' },
            { code: 'pl', name: 'Pol≈°tina', flag: 'üáµüá±', native: 'Polski' },
            { code: 'ru', name: 'Ru≈°tina', flag: 'üá∑üá∫', native: '–†—É—Å—Å–∫–∏–π' },
            { code: 'uk', name: 'Ukrajin≈°tina', flag: 'üá∫üá¶', native: '–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞' },
            { code: 'sk', name: 'Sloven≈°tina', flag: 'üá∏üá∞', native: 'Slovenƒçina' },
            { code: 'nl', name: 'Holand≈°tina', flag: 'üá≥üá±', native: 'Nederlands' },
            { code: 'sv', name: '≈†v√©d≈°tina', flag: 'üá∏üá™', native: 'Svenska' },
            { code: 'da', name: 'D√°n≈°tina', flag: 'üá©üá∞', native: 'Dansk' },
            { code: 'no', name: 'Nor≈°tina', flag: 'üá≥üá¥', native: 'Norsk' },
            { code: 'fi', name: 'Fin≈°tina', flag: 'üá´üáÆ', native: 'Suomi' },
            { code: 'el', name: '≈òeƒçtina', flag: 'üá¨üá∑', native: 'ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨' },
            { code: 'tr', name: 'Tureƒçtina', flag: 'üáπüá∑', native: 'T√ºrk√ße' },
            { code: 'hu', name: 'Maƒèar≈°tina', flag: 'üá≠üá∫', native: 'Magyar' },
            { code: 'ro', name: 'Rumun≈°tina', flag: 'üá∑üá¥', native: 'Rom√¢nƒÉ' },
            { code: 'bg', name: 'Bulhar≈°tina', flag: 'üáßüá¨', native: '–ë—ä–ª–≥–∞—Ä—Å–∫–∏' },
            { code: 'hr', name: 'Chorvat≈°tina', flag: 'üá≠üá∑', native: 'Hrvatski' },
            { code: 'sr', name: 'Srb≈°tina', flag: 'üá∑üá∏', native: '–°—Ä–ø—Å–∫–∏' },
            { code: 'sl', name: 'Slovin≈°tina', flag: 'üá∏üáÆ', native: 'Sloven≈°ƒçina' },
            { code: 'zh', name: 'ƒå√≠n≈°tina', flag: 'üá®üá≥', native: '‰∏≠Êñá' },
            { code: 'ja', name: 'Japon≈°tina', flag: 'üáØüáµ', native: 'Êó•Êú¨Ë™û' },
            { code: 'ko', name: 'Korej≈°tina', flag: 'üá∞üá∑', native: 'ÌïúÍµ≠Ïñ¥' },
            { code: 'ar', name: 'Arab≈°tina', flag: 'üá∏üá¶', native: 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©' },
            { code: 'he', name: 'Hebrej≈°tina', flag: 'üáÆüá±', native: '◊¢◊ë◊®◊ô◊™' },
            { code: 'hi', name: 'Hind≈°tina', flag: 'üáÆüá≥', native: '‡§π‡§ø‡§®‡•ç‡§¶‡•Ä' },
            { code: 'th', name: 'Thaj≈°tina', flag: 'üáπüá≠', native: '‡πÑ‡∏ó‡∏¢' },
            { code: 'vi', name: 'Vietnam≈°tina', flag: 'üáªüá≥', native: 'Ti·∫øng Vi·ªát' },
            { code: 'id', name: 'Indon√©≈°tina', flag: 'üáÆüá©', native: 'Bahasa Indonesia' },
            { code: 'ms', name: 'Malaj≈°tina', flag: 'üá≤üáæ', native: 'Bahasa Melayu' },
            { code: 'tl', name: 'Filip√≠n≈°tina', flag: 'üáµüá≠', native: 'Tagalog' },
            { code: 'bn', name: 'Beng√°l≈°tina', flag: 'üáßüá©', native: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ' },
            { code: 'ta', name: 'Tamil≈°tina', flag: 'üá±üá∞', native: '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç' },
            { code: 'fa', name: 'Per≈°tina', flag: 'üáÆüá∑', native: 'ŸÅÿßÿ±ÿ≥€å' },
            { code: 'ur', name: 'Urd≈°tina', flag: 'üáµüá∞', native: 'ÿßÿ±ÿØŸà' },
            { code: 'sw', name: 'Svahil≈°tina', flag: 'üá∞üá™', native: 'Kiswahili' },
            { code: 'af', name: 'Afrik√°n≈°tina', flag: 'üáøüá¶', native: 'Afrikaans' },
            { code: 'et', name: 'Eston≈°tina', flag: 'üá™üá™', native: 'Eesti' },
            { code: 'lv', name: 'Loty≈°tina', flag: 'üá±üáª', native: 'Latvie≈°u' },
            { code: 'lt', name: 'Litev≈°tina', flag: 'üá±üáπ', native: 'Lietuvi≈≥' },
            { code: 'is', name: 'Island≈°tina', flag: 'üáÆüá∏', native: '√çslenska' },
            { code: 'ga', name: 'Ir≈°tina', flag: 'üáÆüá™', native: 'Gaeilge' },
            { code: 'cy', name: 'Vel≈°tina', flag: 'üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø', native: 'Cymraeg' },
            { code: 'ca', name: 'Katal√°n≈°tina', flag: 'üá™üá∏', native: 'Catal√†' },
            { code: 'eu', name: 'Baskiƒçtina', flag: 'üá™üá∏', native: 'Euskara' }
        ];

        // Origin√°ln√≠ ƒçesk√© texty UI (kl√≠ƒçe pro p≈ôeklad)
        const originalTexts = {
            // Header
            appName: 'FIXO',
            appSlogan: 'Okam≈æit√© opravy dom√°c√≠ch z√°vad',
            navAnalyze: 'Analyzovat',
            navHistory: 'Historie',
            navDatabase: 'Datab√°ze',

            // Home view
            homeTitle: 'Vyfotografujte z√°vadu',
            homeSubtitle: 'AI okam≈æitƒõ identifikuje probl√©m a nab√≠dne ≈ôe≈°en√≠',
            dropzoneText: 'P≈ôet√°hnƒõte fotografii sem',
            dropzoneHint: 'nebo kliknƒõte pro v√Ωbƒõr souboru',
            dropzoneFormats: 'Podporovan√© form√°ty: JPG, PNG, GIF, WebP',
            dropzoneDrop: 'Pus≈•te pro nahr√°n√≠',
            uploadBtn: 'Vybrat fotografii',
            stat30sec: '30 sekund',
            statSafe: 'Bezpeƒçn√©',
            stat500repairs: '500+ oprav',

            // Analyzing
            analyzingTitle: 'Analyzuji fotografii...',
            analyzingStep1: 'Detekce objektu',
            analyzingStep2: 'Identifikace z√°vady',
            analyzingStep3: 'P≈ô√≠prava n√°vod≈Ø',

            // Results
            detectedWith: 'Detekov√°no s',
            confidence: 'jistotou',
            identifiedProblem: 'Identifikovan√Ω probl√©m',
            repairTime: 'ƒåas opravy',
            difficulty: 'Obt√≠≈ænost',
            risk: 'Riziko',
            safetyWarning: 'Bezpeƒçnostn√≠ upozornƒõn√≠',
            startRepair: 'Zaƒç√≠t opravu',
            callExpert: 'Zavolat odborn√≠ka',

            // Repair
            step: 'Krok',
            of: 'z',
            toolsNeeded: 'Pot≈ôebn√© n√°stroje a materi√°l',
            timeRequired: 'ƒåasov√° n√°roƒçnost',
            allStepsOverview: 'P≈ôehled v≈°ech krok≈Ø',
            prevStep: 'P≈ôedchoz√≠ krok',
            nextStep: 'Dal≈°√≠ krok',
            completeRepair: 'Dokonƒçit opravu',

            // History
            historyTitle: 'Historie oprav',
            noRepairsYet: 'Zat√≠m nem√°te ≈æ√°dn√© opravy',
            noRepairsHint: 'Nahrajte fotografii a zaƒçnƒõte s prvn√≠ opravou',
            completed: 'Dokonƒçeno',
            inProgress: 'Prob√≠h√°',

            // Database
            databaseTitle: 'Datab√°ze z√°vad a oprav',
            showing: 'Zobrazeno',
            outOf: 'z',
            items: 'polo≈æek',
            noCategoryItems: '≈Ω√°dn√© polo≈æky v t√©to kategorii',
            tryCategoryHint: 'Zkuste vybrat jinou kategorii',
            aboutDatabase: 'O datab√°zi',
            databaseInfo: 'Na≈°e datab√°ze obsahuje v√≠ce ne≈æ 500 nejƒçastƒõj≈°√≠ch dom√°c√≠ch z√°vad rozdƒõlen√Ωch do 12 kategori√≠. Ka≈æd√° oprava obsahuje detailn√≠ n√°vod, seznam pot≈ôebn√Ωch n√°stroj≈Ø a bezpeƒçnostn√≠ upozornƒõn√≠.',

            // Categories
            catAll: 'V≈°e',
            catWater: 'Voda',
            catElectric: 'Elekt≈ôina',
            catHeating: 'Topen√≠',
            catDoors: 'Dve≈ôe & Okna',
            catFurniture: 'N√°bytek',
            catAppliances: 'Spot≈ôebiƒçe',
            catKitchen: 'Kuchy≈à',
            catBathroom: 'Koupelna',
            catWalls: 'Stƒõny',
            catGarden: 'Zahrada',

            // Footer
            footerSlogan: 'Prvn√≠ svƒõtov√Ω standard pro vizu√°ln√≠ diagnostiku dom√°c√≠ch z√°vad.',
            footerFeatures: 'Funkce',
            footerAI: 'AI anal√Ωza fotografi√≠',
            footer500guides: '500+ n√°vod≈Ø na opravy',
            footerSafety: 'Bezpeƒçnostn√≠ upozornƒõn√≠',
            footerHistory: 'Historie oprav',
            footerContact: 'Kontakt',
            footerQuote: 'Fix Anything. Anywhere. Instantly.',
            footerCopyright: '¬© 2024 FIXO. V≈°echna pr√°va vyhrazena.',

            // Language
            translating: 'P≈ôekl√°d√°m...',
            selectLanguage: 'Vybrat jazyk'
        };

        // Roz≈°√≠≈ôen√° datab√°ze z√°vad a oprav - 12 kategori√≠
        const repairDatabase = {
            // üö∞ VODA
            'kohoutek': {
                name: 'Kohoutek',
                category: 'voda',
                icon: 'üö∞',
                issues: [
                    {
                        id: 'leak',
                        name: 'Kapaj√≠c√≠ kohoutek',
                        description: 'Netƒõsn√≠c√≠ tƒõsnƒõn√≠ nebo O-krou≈æek',
                        riskScore: 2,
                        difficulty: 'N√≠zk√°',
                        timeEstimate: '15 min',
                        tools: ['Kl√≠ƒç', '≈†roubov√°k', 'Nov√© tƒõsnƒõn√≠'],
                        steps: [
                            { step: 1, action: 'Zav≈ôete hlavn√≠ p≈ô√≠vod vody', time: '1 min', icon: 'üö∞' },
                            { step: 2, action: 'Od≈°roubujte hlavici kohoutku', time: '2 min', icon: 'üîß' },
                            { step: 3, action: 'Vymƒõ≈àte tƒõsnƒõn√≠ nebo O-krou≈æek', time: '5 min', icon: '‚öôÔ∏è' },
                            { step: 4, action: 'Sestavte kohoutek zpƒõt', time: '3 min', icon: 'üî©' },
                            { step: 5, action: 'Pus≈•te vodu a zkontrolujte tƒõsnost', time: '2 min', icon: '‚úÖ' }
                        ],
                        safetyWarnings: ['V≈ædy nejd≈ô√≠ve zav≈ôete hlavn√≠ p≈ô√≠vod vody', 'Mƒõjte p≈ôipraven√Ω kbel√≠k']
                    }
                ]
            },
            'wc': {
                name: 'Toaleta',
                category: 'voda',
                icon: 'üöΩ',
                issues: [
                    {
                        id: 'running',
                        name: 'Prot√©kaj√≠c√≠ WC',
                        description: 'Vadn√Ω plov√°k nebo tƒõsnƒõn√≠',
                        riskScore: 2,
                        difficulty: 'St≈ôedn√≠',
                        timeEstimate: '20 min',
                        tools: ['Kl√≠ƒç', 'Nov√Ω plov√°k nebo tƒõsnƒõn√≠'],
                        steps: [
                            { step: 1, action: 'Zav≈ôete p≈ô√≠vod vody k WC', time: '1 min', icon: 'üö∞' },
                            { step: 2, action: 'Vypr√°zdnƒõte n√°dr≈æku splachov√°n√≠m', time: '1 min', icon: 'üöΩ' },
                            { step: 3, action: 'Zkontrolujte plov√°k a ventil', time: '5 min', icon: 'üîç' },
                            { step: 4, action: 'Vymƒõ≈àte vadn√© d√≠ly', time: '10 min', icon: 'üîß' },
                            { step: 5, action: 'Pus≈•te vodu a otestujte', time: '3 min', icon: '‚úÖ' }
                        ],
                        safetyWarnings: ['Pou≈æijte gumov√© rukavice', 'Dbejte na hygienu']
                    }
                ]
            },
            // ‚ö° ELEKT≈òINA
            'zasuvka': {
                name: 'Elektrick√° z√°suvka',
                category: 'elektrina',
                icon: 'üîå',
                issues: [
                    {
                        id: 'not-working',
                        name: 'Nefunkƒçn√≠ z√°suvka',
                        description: 'P≈ôeru≈°en√Ω obvod nebo po≈°kozen√Ω kontakt',
                        riskScore: 8,
                        difficulty: 'Vysok√°',
                        timeEstimate: '30 min',
                        tools: ['Tester napƒõt√≠', '≈†roubov√°k', 'Nov√° z√°suvka'],
                        steps: [
                            { step: 1, action: '‚ö†Ô∏è VYPNƒöTE JISTIƒå!', time: '1 min', icon: '‚ö°' },
                            { step: 2, action: 'Ovƒõ≈ôte testerem, ≈æe nen√≠ napƒõt√≠', time: '2 min', icon: 'üîå' },
                            { step: 3, action: 'Demontujte kryt z√°suvky', time: '2 min', icon: 'üîß' },
                            { step: 4, action: 'Zkontrolujte zapojen√≠ vodiƒç≈Ø', time: '5 min', icon: 'üîç' },
                            { step: 5, action: 'Vymƒõ≈àte z√°suvku nebo opravte spoje', time: '15 min', icon: '‚öôÔ∏è' }
                        ],
                        safetyWarnings: ['‚ö†Ô∏è POZOR! Pr√°ce s elekt≈ôinou!', 'Pokud si nejste jisti, volejte elektrik√°≈ôe!', 'V≈ædy vypnƒõte jistiƒç p≈ôed prac√≠']
                    }
                ]
            },
            'svetlo': {
                name: 'Osvƒõtlen√≠',
                category: 'elektrina',
                icon: 'üí°',
                issues: [
                    {
                        id: 'flickering',
                        name: 'Blikaj√≠c√≠ svƒõtlo',
                        description: '≈†patn√Ω kontakt nebo vadn√° ≈æ√°rovka',
                        riskScore: 5,
                        difficulty: 'St≈ôedn√≠',
                        timeEstimate: '15 min',
                        tools: ['Nov√° ≈æ√°rovka', '≈†roubov√°k', 'Tester'],
                        steps: [
                            { step: 1, action: 'Vypnƒõte vyp√≠naƒç a jistiƒç', time: '1 min', icon: '‚ö°' },
                            { step: 2, action: 'Vymƒõ≈àte ≈æ√°rovku za novou', time: '2 min', icon: 'üí°' },
                            { step: 3, action: 'Pokud blik√° d√°l, zkontrolujte vyp√≠naƒç', time: '5 min', icon: 'üîç' },
                            { step: 4, action: 'Ut√°hnƒõte uvolnƒõn√© kontakty', time: '5 min', icon: 'üîß' },
                            { step: 5, action: 'Zapnƒõte a otestujte', time: '1 min', icon: '‚úÖ' }
                        ],
                        safetyWarnings: ['V≈ædy vypnƒõte proud p≈ôed prac√≠', 'Nechte ≈æ√°rovku vychladnout']
                    }
                ]
            },
            // üå°Ô∏è TOPEN√ç
            'radiator': {
                name: 'Radi√°tor',
                category: 'topeni',
                icon: 'üå°Ô∏è',
                issues: [
                    {
                        id: 'cold',
                        name: 'Studen√Ω radi√°tor',
                        description: 'Vzduch v topn√©m syst√©mu',
                        riskScore: 2,
                        difficulty: 'N√≠zk√°',
                        timeEstimate: '10 min',
                        tools: ['Odvzdu≈°≈àovac√≠ kl√≠ƒç', 'N√°doba na vodu', 'Had≈ô√≠k'],
                        steps: [
                            { step: 1, action: 'Vypnƒõte topen√≠ a nechte vychladnout', time: '15 min', icon: 'üå°Ô∏è' },
                            { step: 2, action: 'Najdƒõte odvzdu≈°≈àovac√≠ ventil', time: '1 min', icon: 'üîç' },
                            { step: 3, action: 'Pod ventil um√≠stƒõte n√°dobu', time: '30 s', icon: 'ü™£' },
                            { step: 4, action: 'Pomalu otev≈ôete ventil kl√≠ƒçem', time: '2 min', icon: 'üîß' },
                            { step: 5, action: 'A≈æ poteƒçe voda, ventil zav≈ôete', time: '2 min', icon: '‚úÖ' }
                        ],
                        safetyWarnings: ['Pozor na horkou vodu', 'Mƒõjte p≈ôipraven√Ω had≈ô√≠k']
                    }
                ]
            },
            // üö™ DVE≈òE & OKNA
            'dvere': {
                name: 'Dve≈ôe',
                category: 'dvere_okna',
                icon: 'üö™',
                issues: [
                    {
                        id: 'squeaking',
                        name: 'Vrzaj√≠c√≠ dve≈ôe',
                        description: 'Such√© panty pot≈ôebuj√≠ namaz√°n√≠',
                        riskScore: 1,
                        difficulty: 'Velmi n√≠zk√°',
                        timeEstimate: '5 min',
                        tools: ['WD-40 nebo olej', 'Had≈ô√≠k'],
                        steps: [
                            { step: 1, action: 'Otev≈ôete dve≈ôe do poloviny', time: '10 s', icon: 'üö™' },
                            { step: 2, action: 'Nast≈ô√≠kejte mazivo na panty', time: '1 min', icon: 'üîß' },
                            { step: 3, action: 'Pohybujte dve≈ômi tam a zpƒõt', time: '1 min', icon: '‚ÜîÔ∏è' },
                            { step: 4, action: 'Set≈ôete p≈ôebyteƒçn√© mazivo', time: '1 min', icon: 'üßπ' }
                        ],
                        safetyWarnings: ['Vƒõtrejte p≈ôi pou≈æit√≠ sprej≈Ø']
                    }
                ]
            },
            'okno': {
                name: 'Okno',
                category: 'dvere_okna',
                icon: 'ü™ü',
                issues: [
                    {
                        id: 'drafty',
                        name: 'T√°hne z okna',
                        description: 'Opot≈ôebovan√© tƒõsnƒõn√≠',
                        riskScore: 1,
                        difficulty: 'N√≠zk√°',
                        timeEstimate: '20 min',
                        tools: ['Nov√© tƒõsnƒõn√≠', 'N≈Ø≈æ', 'ƒåistiƒç'],
                        steps: [
                            { step: 1, action: 'Odstra≈àte star√© tƒõsnƒõn√≠', time: '5 min', icon: 'üîß' },
                            { step: 2, action: 'Oƒçistƒõte dr√°≈æku od neƒçistot', time: '3 min', icon: 'üßπ' },
                            { step: 3, action: 'Namƒõ≈ôte a ust≈ôihnƒõte nov√© tƒõsnƒõn√≠', time: '2 min', icon: 'üìè' },
                            { step: 4, action: 'Zatlaƒçte tƒõsnƒõn√≠ do dr√°≈æky', time: '8 min', icon: 'üëÜ' },
                            { step: 5, action: 'Zkontrolujte tƒõsnost zav≈ôen√≠m okna', time: '1 min', icon: '‚úÖ' }
                        ],
                        safetyWarnings: ['Opatrnƒõ s ostr√Ωm no≈æem']
                    }
                ]
            },
            // ü™ë N√ÅBYTEK
            'zidle': {
                name: '≈Ωidle',
                category: 'nabytek',
                icon: 'ü™ë',
                issues: [
                    {
                        id: 'wobbly',
                        name: 'Viklaj√≠c√≠ se ≈æidle',
                        description: 'Uvolnƒõn√© ≈°rouby nebo po≈°kozen√© nohy',
                        riskScore: 1,
                        difficulty: 'N√≠zk√°',
                        timeEstimate: '10 min',
                        tools: ['≈†roubov√°k', 'Kl√≠ƒç', 'Lepidlo na d≈ôevo'],
                        steps: [
                            { step: 1, action: 'Otoƒçte ≈æidli nohama nahoru', time: '30 s', icon: 'ü™ë' },
                            { step: 2, action: 'Zkontrolujte v≈°echny ≈°rouby', time: '2 min', icon: 'üîç' },
                            { step: 3, action: 'Dot√°hnƒõte uvolnƒõn√© ≈°rouby', time: '5 min', icon: 'üîß' },
                            { step: 4, action: 'Pokud je spoj rozkl√≠≈æen√Ω, pou≈æijte lepidlo', time: '2 min', icon: 'üß¥' },
                            { step: 5, action: 'Nechte zaschnout a otestujte', time: '1 min', icon: '‚úÖ' }
                        ],
                        safetyWarnings: ['Netestujte ≈æidli, dokud lepidlo nezaschne']
                    }
                ]
            },
            // üîå SPOT≈òEBIƒåE
            'pracka': {
                name: 'Praƒçka',
                category: 'spotrebice',
                icon: 'üß∫',
                issues: [
                    {
                        id: 'not-draining',
                        name: 'Praƒçka nevypou≈°t√≠ vodu',
                        description: 'Ucpan√Ω filtr nebo hadice',
                        riskScore: 3,
                        difficulty: 'St≈ôedn√≠',
                        timeEstimate: '25 min',
                        tools: ['Had≈ô√≠k', 'N√°doba', 'Kart√°ƒç'],
                        steps: [
                            { step: 1, action: 'Vypnƒõte praƒçku a odpojte ze z√°suvky', time: '1 min', icon: 'üîå' },
                            { step: 2, action: 'Najdƒõte servisn√≠ dv√≠≈ôka (dole vp≈ôedu)', time: '1 min', icon: 'üîç' },
                            { step: 3, action: 'Podlo≈æte n√°dobu a pomalu otev≈ôete filtr', time: '3 min', icon: 'ü™£' },
                            { step: 4, action: 'Vyƒçistƒõte filtr od neƒçistot', time: '10 min', icon: 'üßπ' },
                            { step: 5, action: 'Vra≈•te filtr zpƒõt a otestujte', time: '5 min', icon: '‚úÖ' }
                        ],
                        safetyWarnings: ['Pozor na vyt√©kaj√≠c√≠ vodu', 'V≈ædy odpojte ze z√°suvky']
                    }
                ]
            },
            // üç≥ KUCHY≈á
            'spor√°k': {
                name: 'Spor√°k',
                category: 'kuchyn',
                icon: 'üç≥',
                issues: [
                    {
                        id: 'burner-not-lighting',
                        name: 'Ho≈ô√°k nezapaluje',
                        description: 'Ucpan√° tryska nebo vadn√Ω zapalovaƒç',
                        riskScore: 5,
                        difficulty: 'St≈ôedn√≠',
                        timeEstimate: '15 min',
                        tools: ['Jehla nebo ≈°pendl√≠k', 'Had≈ô√≠k', 'Kart√°ƒçek'],
                        steps: [
                            { step: 1, action: 'Zav≈ôete p≈ô√≠vod plynu', time: '1 min', icon: '‚õΩ' },
                            { step: 2, action: 'Sejmƒõte m≈ô√≠≈æku a rozdƒõlovaƒç plamene', time: '1 min', icon: 'üîß' },
                            { step: 3, action: 'Vyƒçistƒõte trysku jehlou', time: '5 min', icon: 'üìç' },
                            { step: 4, action: 'Oƒçistƒõte zapalovaƒç kart√°ƒçkem', time: '3 min', icon: 'üßπ' },
                            { step: 5, action: 'Slo≈æte v≈°e zpƒõt a otestujte', time: '2 min', icon: '‚úÖ' }
                        ],
                        safetyWarnings: ['V≈ædy zav≈ôete plyn p≈ôed ƒçi≈°tƒõn√≠m', 'Vƒõtrejte p≈ôi pr√°ci s plynem']
                    }
                ]
            },
            // üöø KOUPELNA
            'sprcha': {
                name: 'Sprchov√° hlavice',
                category: 'koupelna',
                icon: 'üöø',
                issues: [
                    {
                        id: 'low-pressure',
                        name: 'Slab√Ω proud vody',
                        description: 'Zanesen√° sprchov√° hlavice vodn√≠m kamenem',
                        riskScore: 1,
                        difficulty: 'N√≠zk√°',
                        timeEstimate: '30 min',
                        tools: ['Ocet', 'Igelitov√Ω s√°ƒçek', 'Gumiƒçka', 'Kart√°ƒçek'],
                        steps: [
                            { step: 1, action: 'Napl≈àte s√°ƒçek octem', time: '1 min', icon: 'üß¥' },
                            { step: 2, action: 'Navl√©knƒõte s√°ƒçek na hlavici a upevnƒõte gumiƒçkou', time: '2 min', icon: 'üéí' },
                            { step: 3, action: 'Nechte p≈Øsobit 2-4 hodiny', time: '2-4 hod', icon: '‚è∞' },
                            { step: 4, action: 'Sundejte s√°ƒçek a doƒçistƒõte kart√°ƒçkem', time: '5 min', icon: 'üßπ' },
                            { step: 5, action: 'Propl√°chnƒõte vodou', time: '2 min', icon: '‚úÖ' }
                        ],
                        safetyWarnings: ['Ocet m≈Ø≈æe dr√°≈ædit oƒçi - buƒète opatrn√≠']
                    }
                ]
            },
            // üè† STƒöNY & PODLAHY
            'stena': {
                name: 'Stƒõna',
                category: 'steny_podlahy',
                icon: 'üè†',
                issues: [
                    {
                        id: 'hole',
                        name: 'D√≠ra ve stƒõnƒõ',
                        description: 'Mal√° d√≠ra po hmo≈ædince nebo h≈ôeb√≠ku',
                        riskScore: 1,
                        difficulty: 'N√≠zk√°',
                        timeEstimate: '15 min',
                        tools: ['Tmel', '≈†pachtle', 'Brusn√Ω pap√≠r', 'Barva'],
                        steps: [
                            { step: 1, action: 'Oƒçistƒõte d√≠ru od prachu', time: '1 min', icon: 'üßπ' },
                            { step: 2, action: 'Naneste tmel do d√≠ry ≈°pachtl√≠', time: '3 min', icon: 'üîß' },
                            { step: 3, action: 'Uhlaƒète povrch a nechte zaschnout', time: '30 min', icon: '‚è∞' },
                            { step: 4, action: 'P≈ôebruste jemn√Ωm pap√≠rem', time: '2 min', icon: 'üìÑ' },
                            { step: 5, action: 'P≈ôet≈ôete barvou', time: '5 min', icon: 'üé®' }
                        ],
                        safetyWarnings: ['Vƒõtrejte p≈ôi pr√°ci s tmelem a barvou']
                    }
                ]
            },
            // üå± ZAHRADA
            'hadice': {
                name: 'Zahradn√≠ hadice',
                category: 'zahrada',
                icon: 'üå±',
                issues: [
                    {
                        id: 'leaking',
                        name: 'Dƒõrav√° hadice',
                        description: 'Mal√° d√≠ra nebo prasklina v hadici',
                        riskScore: 1,
                        difficulty: 'N√≠zk√°',
                        timeEstimate: '10 min',
                        tools: ['Opravn√° p√°ska na hadice', 'N≈Ø≈æky', 'Had≈ô√≠k'],
                        steps: [
                            { step: 1, action: 'Najdƒõte m√≠sto √∫niku', time: '2 min', icon: 'üîç' },
                            { step: 2, action: 'Osu≈°te a oƒçistƒõte oblast kolem d√≠ry', time: '2 min', icon: 'üßπ' },
                            { step: 3, action: 'Odst≈ôihnƒõte kus opravn√© p√°sky', time: '1 min', icon: '‚úÇÔ∏è' },
                            { step: 4, action: 'P≈ôilepte p√°sku p≈ôes d√≠ru s p≈ôesahem', time: '3 min', icon: 'ü©π' },
                            { step: 5, action: 'Pus≈•te vodu a zkontrolujte opravu', time: '2 min', icon: '‚úÖ' }
                        ],
                        safetyWarnings: ['Ujistƒõte se, ≈æe je hadice such√° p≈ôed lepen√≠m']
                    }
                ]
            }
        };

        // Kategorie pro filtrov√°n√≠
        const categories = [
            { id: 'all', name: 'V≈°e', icon: 'üìã' },
            { id: 'voda', name: 'Voda', icon: 'üö∞' },
            { id: 'elektrina', name: 'Elekt≈ôina', icon: '‚ö°' },
            { id: 'topeni', name: 'Topen√≠', icon: 'üå°Ô∏è' },
            { id: 'dvere_okna', name: 'Dve≈ôe & Okna', icon: 'üö™' },
            { id: 'nabytek', name: 'N√°bytek', icon: 'ü™ë' },
            { id: 'spotrebice', name: 'Spot≈ôebiƒçe', icon: 'üîå' },
            { id: 'kuchyn', name: 'Kuchy≈à', icon: 'üç≥' },
            { id: 'koupelna', name: 'Koupelna', icon: 'üöø' },
            { id: 'steny_podlahy', name: 'Stƒõny', icon: 'üè†' },
            { id: 'zahrada', name: 'Zahrada', icon: 'üå±' }
        ];

        function FixoApp() {
            const [currentView, setCurrentView] = useState('home');
            const [selectedImage, setSelectedImage] = useState(null);
            const [detectedObject, setDetectedObject] = useState(null);
            const [selectedIssue, setSelectedIssue] = useState(null);
            const [analysisResult, setAnalysisResult] = useState(null);
            const [isAnalyzing, setIsAnalyzing] = useState(false);
            const [repairHistory, setRepairHistory] = useState([]);
            const [currentStep, setCurrentStep] = useState(0);
            const [isDragging, setIsDragging] = useState(false);
            const [selectedCategory, setSelectedCategory] = useState('all');
            const fileInputRef = useRef(null);
            const dropZoneRef = useRef(null);

            // Konfigurace API - p≈ôi lok√°ln√≠m v√Ωvoji pou≈æij backend, jinak simulaci
            const API_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'
                ? 'http://localhost:3000'
                : null; // Na GitHub Pages nen√≠ backend

            // === JAZYKOV√ù SYST√âM S CACHE (vlastn√≠ slovn√≠k p≈ôeklad≈Ø) ===
            const [currentLanguage, setCurrentLanguage] = useState(() => {
                return localStorage.getItem('fixo_language') || 'cs';
            });
            const [translations, setTranslations] = useState(() => {
                const saved = localStorage.getItem('fixo_translations');
                return saved ? JSON.parse(saved) : { cs: originalTexts };
            });
            const [isTranslating, setIsTranslating] = useState(false);
            const [langDropdownOpen, setLangDropdownOpen] = useState(false);

            // Z√≠skat p≈ôeklad pro aktu√°ln√≠ jazyk
            const t = (key) => {
                if (translations[currentLanguage] && translations[currentLanguage][key]) {
                    return translations[currentLanguage][key];
                }
                return originalTexts[key] || key;
            };

            // Ulo≈æit slovn√≠k do localStorage (permanentn√≠ cache)
            const saveTranslations = (newTranslations) => {
                localStorage.setItem('fixo_translations', JSON.stringify(newTranslations));
                setTranslations(newTranslations);
            };

            // Poƒçet p≈ôelo≈æen√Ωch jazyk≈Ø ve slovn√≠ku
            const getTranslatedLanguagesCount = () => Object.keys(translations).length;

            // P≈ôelo≈æit texty pomoc√≠ AI a ulo≈æit do slovn√≠ku
            const translateTexts = async (targetLang) => {
                // Pokud u≈æ m√°me p≈ôeklady pro tento jazyk, pou≈æij je (instant!)
                if (translations[targetLang]) {
                    console.log(`üìö Pou≈æ√≠v√°m cache pro ${targetLang}`);
                    setCurrentLanguage(targetLang);
                    localStorage.setItem('fixo_language', targetLang);
                    return;
                }

                // Pokud je c√≠lov√Ω jazyk ƒçe≈°tina, pou≈æij origin√°l
                if (targetLang === 'cs') {
                    setCurrentLanguage('cs');
                    localStorage.setItem('fixo_language', 'cs');
                    return;
                }

                // Zkontrolovat jestli m√°me API
                if (!API_URL) {
                    alert('Pro p≈ôeklad do nov√Ωch jazyk≈Ø je pot≈ôeba spustit backend server.\nJakmile je jazyk p≈ôelo≈æen jednou, funguje offline.');
                    return;
                }

                setIsTranslating(true);

                try {
                    const textsToTranslate = Object.values(originalTexts);
                    const keys = Object.keys(originalTexts);
                    const langData = languages.find(l => l.code === targetLang);

                    const response = await fetch(`${API_URL}/api/translate`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            texts: textsToTranslate,
                            targetLanguage: langData?.native || targetLang,
                            sourceLanguage: 'ƒçe≈°tina'
                        })
                    });

                    if (response.ok) {
                        const result = await response.json();
                        if (result.success && result.translations) {
                            // Vytvo≈ôit slovn√≠k z p≈ôelo≈æen√Ωch text≈Ø
                            const newLangTranslations = {};
                            keys.forEach((key, index) => {
                                newLangTranslations[key] = result.translations[index] || originalTexts[key];
                            });

                            // Ulo≈æit do permanentn√≠ cache (slovn√≠ku)
                            const newTranslations = {
                                ...translations,
                                [targetLang]: newLangTranslations
                            };
                            saveTranslations(newTranslations);
                            setCurrentLanguage(targetLang);
                            localStorage.setItem('fixo_language', targetLang);

                            console.log(`‚úÖ ${langData?.name || targetLang} p≈ôid√°n do slovn√≠ku! Celkem jazyk≈Ø: ${Object.keys(newTranslations).length}`);
                        }
                    }
                } catch (error) {
                    console.error('Chyba p≈ôi p≈ôekladu:', error);
                    alert('Nepoda≈ôilo se p≈ôelo≈æit. Zkuste to znovu.');
                }

                setIsTranslating(false);
            };

            // Zmƒõnit jazyk
            const changeLanguage = (langCode) => {
                setLangDropdownOpen(false);
                translateTexts(langCode);
            };

            // Z√≠skat aktu√°ln√≠ jazyk
            const getCurrentLanguageData = () => {
                return languages.find(l => l.code === currentLanguage) || languages[0];
            };

            // Zjistit jestli jazyk je v cache
            const isLanguageCached = (langCode) => {
                return !!translations[langCode];
            };

            // AI anal√Ωza fotky - pou≈æije backend API nebo simulaci
            const analyzeImage = async (imageData) => {
                setIsAnalyzing(true);
                setCurrentView('analyzing');

                try {
                    // Pokud bƒõ≈æ√≠me s backendem, pou≈æij skuteƒçn√© AI
                    if (API_URL && imageData) {
                        const response = await fetch(`${API_URL}/api/analyze-base64`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({ image: imageData })
                        });

                        if (response.ok) {
                            const result = await response.json();
                            if (result.success) {
                                const data = result.data;
                                setAnalysisResult({
                                    object: {
                                        name: data.detection.object.name,
                                        category: data.detection.object.category,
                                        icon: getCategoryIcon(data.detection.object.category)
                                    },
                                    issue: {
                                        name: data.detection.issue.name,
                                        description: data.detection.issue.description,
                                        riskScore: data.detection.issue.riskScore,
                                        difficulty: data.detection.issue.difficulty,
                                        timeEstimate: data.recommendations.timeEstimate,
                                        tools: data.recommendations.tools,
                                        steps: data.recommendations.steps,
                                        safetyWarnings: data.recommendations.safetyWarnings
                                    },
                                    confidence: Math.round(data.detection.object.confidence * 100)
                                });
                                setIsAnalyzing(false);
                                setCurrentView('results');
                                return;
                            }
                        }
                    }

                    // Fallback: Simulovan√° anal√Ωza (pro GitHub Pages nebo p≈ôi chybƒõ API)
                    await new Promise(resolve => setTimeout(resolve, 2500));
                    const objects = Object.keys(repairDatabase);
                    const randomObject = objects[Math.floor(Math.random() * objects.length)];
                    const objectData = repairDatabase[randomObject];
                    const randomIssue = objectData.issues[0];

                    setAnalysisResult({
                        object: objectData,
                        issue: randomIssue,
                        confidence: Math.floor(Math.random() * 20) + 80
                    });
                } catch (error) {
                    console.error('Chyba p≈ôi anal√Ωze:', error);
                    // Fallback na simulaci p≈ôi chybƒõ
                    await new Promise(resolve => setTimeout(resolve, 1500));
                    const objects = Object.keys(repairDatabase);
                    const randomObject = objects[Math.floor(Math.random() * objects.length)];
                    const objectData = repairDatabase[randomObject];
                    const randomIssue = objectData.issues[0];

                    setAnalysisResult({
                        object: objectData,
                        issue: randomIssue,
                        confidence: Math.floor(Math.random() * 20) + 80
                    });
                }

                setIsAnalyzing(false);
                setCurrentView('results');
            };

            // Pomocn√° funkce pro z√≠sk√°n√≠ ikony kategorie
            const getCategoryIcon = (category) => {
                const icons = {
                    voda: 'üö∞', elektrina: '‚ö°', topeni: 'üå°Ô∏è',
                    dvere_okna: 'üö™', nabytek: 'ü™ë', spotrebice: 'üîå',
                    kuchyn: 'üç≥', koupelna: 'üöø', steny_podlahy: 'üè†', zahrada: 'üå±'
                };
                return icons[category] || 'üîß';
            };

            const handleImageUpload = (event) => {
                const file = event.target.files[0];
                if (file) {
                    processFile(file);
                }
            };

            const processFile = (file) => {
                if (file && file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        const imageData = reader.result;
                        setSelectedImage(imageData);
                        analyzeImage(imageData); // P≈ôed√°me obr√°zek jako base64 pro API
                    };
                    reader.readAsDataURL(file);
                }
            };

            // Drag & Drop handlers
            const handleDragOver = (e) => {
                e.preventDefault();
                e.stopPropagation();
                setIsDragging(true);
            };

            const handleDragLeave = (e) => {
                e.preventDefault();
                e.stopPropagation();
                setIsDragging(false);
            };

            const handleDrop = (e) => {
                e.preventDefault();
                e.stopPropagation();
                setIsDragging(false);

                const files = e.dataTransfer.files;
                if (files && files.length > 0) {
                    processFile(files[0]);
                }
            };

            // Filtrov√°n√≠ datab√°ze podle kategorie
            const getFilteredDatabase = () => {
                if (selectedCategory === 'all') {
                    return Object.entries(repairDatabase);
                }
                return Object.entries(repairDatabase).filter(([key, item]) =>
                    item.category === selectedCategory
                );
            };

            const startRepair = (issue) => {
                setSelectedIssue(issue);
                setCurrentStep(0);
                setCurrentView('repair');

                // P≈ôidat do historie
                const historyItem = {
                    id: Date.now(),
                    date: new Date().toLocaleString('cs-CZ'),
                    object: analysisResult.object.name,
                    issue: issue.name,
                    status: 'in-progress'
                };
                setRepairHistory([historyItem, ...repairHistory]);
            };

            const completeRepair = () => {
                // Aktualizovat historii
                setRepairHistory(prev => prev.map(item =>
                    item.id === repairHistory[0].id
                        ? {...item, status: 'completed'}
                        : item
                ));
                setCurrentView('home');
                setSelectedImage(null);
                setAnalysisResult(null);
                setSelectedIssue(null);
                setCurrentStep(0);
            };

            return (
                <div className="app-bg">
                    {/* P≈ôekl√°d√°n√≠ overlay */}
                    {isTranslating && (
                        <div className="translating-overlay">
                            <div className="translating-box">
                                <div className="spinner spinner-lg mb-4"></div>
                                <h3 style={{fontSize: 'var(--text-xl)', fontWeight: 'var(--font-bold)', marginBottom: 'var(--space-2)'}}>
                                    {t('translating')}
                                </h3>
                                <p className="text-secondary">Vytv√°≈ô√≠m slovn√≠k pro tento jazyk...</p>
                                <p className="text-muted" style={{fontSize: 'var(--text-sm)', marginTop: 'var(--space-2)'}}>
                                    (p≈ô√≠≈°tƒõ bude p≈ôepnut√≠ okam≈æit√©)
                                </p>
                            </div>
                        </div>
                    )}

                    {/* Header */}
                    <header className="header">
                        <div className="container">
                            <div className="header-content">
                                <div className="flex items-center" style={{cursor: 'pointer'}} onClick={() => setCurrentView('home')}>
                                    <span className="logo mr-4">{t('appName')}</span>
                                    <span className="text-secondary hide-mobile" style={{fontSize: 'var(--text-sm)'}}>
                                        {t('appSlogan')}
                                    </span>
                                </div>

                                {/* Jazykov√Ω p≈ôep√≠naƒç */}
                                <div className="language-selector" style={{marginRight: 'var(--space-4)'}}>
                                    <button
                                        className="language-btn"
                                        onClick={() => setLangDropdownOpen(!langDropdownOpen)}
                                    >
                                        <span className="language-flag">{getCurrentLanguageData().flag}</span>
                                        <span className="hide-mobile">{getCurrentLanguageData().native}</span>
                                        <i className={`fas fa-chevron-${langDropdownOpen ? 'up' : 'down'}`} style={{fontSize: 'var(--text-xs)'}}></i>
                                    </button>

                                    <div className={`language-dropdown ${langDropdownOpen ? '' : 'language-dropdown-hidden'}`}>
                                        <div style={{padding: 'var(--space-2)', borderBottom: '1px solid var(--color-border)', background: 'var(--color-bg-secondary)'}}>
                                            <span style={{fontSize: 'var(--text-xs)', color: 'var(--color-text-muted)'}}>
                                                üìö Slovn√≠k: {getTranslatedLanguagesCount()} jazyk≈Ø
                                            </span>
                                        </div>
                                        {languages.map(lang => (
                                            <div
                                                key={lang.code}
                                                className={`language-option ${currentLanguage === lang.code ? 'active' : ''}`}
                                                onClick={() => changeLanguage(lang.code)}
                                            >
                                                <span className="language-flag">{lang.flag}</span>
                                                <span>{lang.native}</span>
                                                {isLanguageCached(lang.code) && (
                                                    <i className="fas fa-check-circle" style={{marginLeft: 'auto', color: 'var(--color-success)', fontSize: 'var(--text-xs)'}}></i>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                <nav className="nav">
                                    <button
                                        onClick={() => setCurrentView('home')}
                                        className={currentView === 'home' ? 'nav-link nav-link-active' : 'nav-link'}
                                    >
                                        <i className="fas fa-camera mr-2"></i>
                                        {t('navAnalyze')}
                                    </button>
                                    <button
                                        onClick={() => setCurrentView('history')}
                                        className={currentView === 'history' ? 'nav-link nav-link-active' : 'nav-link'}
                                    >
                                        <i className="fas fa-history mr-2"></i>
                                        {t('navHistory')}
                                    </button>
                                    <button
                                        onClick={() => setCurrentView('knowledge')}
                                        className={currentView === 'knowledge' ? 'nav-link nav-link-active' : 'nav-link'}
                                    >
                                        <i className="fas fa-book mr-2"></i>
                                        {t('navDatabase')}
                                    </button>
                                </nav>
                            </div>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="main container py-8">
                        {/* Home View - Camera/Upload */}
                        {currentView === 'home' && (
                            <div className="center-content">
                                <div className="upload-card max-w-md w-full">
                                    <div className="text-center mb-6">
                                        <h1 style={{fontSize: 'var(--text-2xl)', fontWeight: 'var(--font-bold)', color: 'var(--color-text-primary)', marginBottom: 'var(--space-2)'}}>
                                            {t('homeTitle')}
                                        </h1>
                                        <p className="text-secondary">
                                            {t('homeSubtitle')}
                                        </p>
                                    </div>

                                    <input
                                        ref={fileInputRef}
                                        type="file"
                                        accept="image/*"
                                        onChange={handleImageUpload}
                                        className="hidden"
                                    />

                                    {/* Drag & Drop Zone */}
                                    <div
                                        ref={dropZoneRef}
                                        className={`drop-zone ${isDragging ? 'drag-over' : ''}`}
                                        onDragOver={handleDragOver}
                                        onDragLeave={handleDragLeave}
                                        onDrop={handleDrop}
                                        onClick={() => fileInputRef.current.click()}
                                    >
                                        <div className="drop-zone-icon">
                                            {isDragging ? (
                                                <i className="fas fa-cloud-upload-alt"></i>
                                            ) : (
                                                <i className="fas fa-camera"></i>
                                            )}
                                        </div>
                                        <p style={{fontSize: 'var(--text-lg)', fontWeight: 'var(--font-semibold)', marginBottom: 'var(--space-2)', color: 'var(--color-text-primary)'}}>
                                            {isDragging ? t('dropzoneDrop') : t('dropzoneText')}
                                        </p>
                                        <p className="text-secondary" style={{fontSize: 'var(--text-sm)'}}>
                                            {t('dropzoneHint')}
                                        </p>
                                        <p className="text-muted" style={{fontSize: 'var(--text-xs)', marginTop: 'var(--space-2)'}}>
                                            {t('dropzoneFormats')}
                                        </p>
                                    </div>

                                    <button
                                        onClick={() => fileInputRef.current.click()}
                                        className="btn btn-primary btn-xl btn-block hover-scale"
                                    >
                                        <i className="fas fa-camera mr-2"></i>
                                        {t('uploadBtn')}
                                    </button>

                                    <div className="grid grid-3 mt-6 gap-2">
                                        <div className="quick-stat">
                                            <i className="fas fa-clock" style={{color: 'var(--color-primary)', marginBottom: 'var(--space-1)', display: 'block'}}></i>
                                            <div style={{fontSize: 'var(--text-sm)'}}>{t('stat30sec')}</div>
                                        </div>
                                        <div className="quick-stat">
                                            <i className="fas fa-shield-alt" style={{color: 'var(--color-success)', marginBottom: 'var(--space-1)', display: 'block'}}></i>
                                            <div style={{fontSize: 'var(--text-sm)'}}>{t('statSafe')}</div>
                                        </div>
                                        <div className="quick-stat">
                                            <i className="fas fa-tools" style={{color: 'var(--color-warning)', marginBottom: 'var(--space-1)', display: 'block'}}></i>
                                            <div style={{fontSize: 'var(--text-sm)'}}>{t('stat500repairs')}</div>
                                        </div>
                                    </div>
                                </div>

                                {/* Quick Examples */}
                                <div className="grid grid-4 mt-8 max-w-lg w-full gap-4">
                                    {[
                                        { icon: 'üö∞', name: 'Kapaj√≠c√≠ kohoutek' },
                                        { icon: 'üöΩ', name: 'Prot√©kaj√≠c√≠ WC' },
                                        { icon: 'üîå', name: 'Nefunkƒçn√≠ z√°suvka' },
                                        { icon: 'üö™', name: 'Vrzaj√≠c√≠ dve≈ôe' }
                                    ].map((item, idx) => (
                                        <div key={idx} className="example-card">
                                            <div style={{fontSize: 'var(--text-3xl)', marginBottom: 'var(--space-2)'}}>{item.icon}</div>
                                            <div style={{fontSize: 'var(--text-sm)', color: 'var(--color-text-secondary)'}}>{item.name}</div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* Analyzing View */}
                        {currentView === 'analyzing' && (
                            <div className="center-content">
                                <div className="upload-card max-w-md w-full">
                                    <div className="text-center">
                                        {selectedImage && (
                                            <img
                                                src={selectedImage}
                                                alt="Analyzovan√° fotka"
                                                className="image-preview mb-6"
                                            />
                                        )}
                                        <div className="flex-center mb-4">
                                            <div className="spinner spinner-lg"></div>
                                        </div>
                                        <h2 style={{fontSize: 'var(--text-xl)', fontWeight: 'var(--font-bold)', marginBottom: 'var(--space-2)'}}>
                                            {t('analyzingTitle')}
                                        </h2>
                                        <div className="text-secondary" style={{display: 'flex', flexDirection: 'column', gap: 'var(--space-2)'}}>
                                            <div className="flex-center">
                                                <i className="fas fa-check-circle mr-2" style={{color: 'var(--color-success)'}}></i>
                                                {t('analyzingStep1')}
                                            </div>
                                            <div className="flex-center animate-pulse">
                                                <i className="fas fa-spinner fa-spin mr-2" style={{color: 'var(--color-primary)'}}></i>
                                                {t('analyzingStep2')}
                                            </div>
                                            <div className="flex-center text-muted">
                                                <i className="far fa-circle mr-2"></i>
                                                {t('analyzingStep3')}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Results View */}
                        {currentView === 'results' && analysisResult && (
                            <div className="max-w-lg mx-auto">
                                <div className="card">
                                    {/* Detection Header */}
                                    <div className="result-header">
                                        <div className="flex-between">
                                            <div>
                                                <h2 style={{fontSize: 'var(--text-2xl)', fontWeight: 'var(--font-bold)', marginBottom: 'var(--space-2)'}}>
                                                    {analysisResult.object.name}
                                                </h2>
                                                <p style={{opacity: 0.9}}>
                                                    {t('detectedWith')} {analysisResult.confidence}% {t('confidence')}
                                                </p>
                                            </div>
                                            <div style={{fontSize: 'var(--text-5xl)'}}>
                                                {analysisResult.issue.id === 'leak' && 'üö∞'}
                                                {analysisResult.issue.id === 'running' && 'üöΩ'}
                                                {analysisResult.issue.id === 'not-working' && 'üîå'}
                                                {analysisResult.issue.id === 'squeaking' && 'üö™'}
                                                {analysisResult.issue.id === 'cold' && 'üå°Ô∏è'}
                                            </div>
                                        </div>
                                    </div>

                                    {/* Issue Details */}
                                    <div className="card-body">
                                        <div className="mb-6">
                                            <h3 style={{fontSize: 'var(--text-lg)', fontWeight: 'var(--font-semibold)', marginBottom: 'var(--space-2)'}}>
                                                {t('identifiedProblem')}
                                            </h3>
                                            <div className="alert alert-danger">
                                                <p className="alert-title">{analysisResult.issue.name}</p>
                                                <p style={{fontSize: 'var(--text-sm)', marginTop: 'var(--space-1)'}}>
                                                    {analysisResult.issue.description}
                                                </p>
                                            </div>
                                        </div>

                                        {/* Quick Info */}
                                        <div className="grid grid-3 gap-4 mb-6">
                                            <div className="info-box">
                                                <i className="fas fa-clock" style={{color: 'var(--color-primary)', fontSize: 'var(--text-2xl)', marginBottom: 'var(--space-2)', display: 'block'}}></i>
                                                <div style={{fontSize: 'var(--text-sm)', color: 'var(--color-text-secondary)'}}>{t('repairTime')}</div>
                                                <div className="font-semibold">{analysisResult.issue.timeEstimate}</div>
                                            </div>
                                            <div className="info-box">
                                                <i className="fas fa-signal" style={{color: 'var(--color-warning)', fontSize: 'var(--text-2xl)', marginBottom: 'var(--space-2)', display: 'block'}}></i>
                                                <div style={{fontSize: 'var(--text-sm)', color: 'var(--color-text-secondary)'}}>{t('difficulty')}</div>
                                                <div className="font-semibold">{analysisResult.issue.difficulty}</div>
                                            </div>
                                            <div className="info-box">
                                                <i className="fas fa-exclamation-triangle" style={{color: 'var(--color-danger)', fontSize: 'var(--text-2xl)', marginBottom: 'var(--space-2)', display: 'block'}}></i>
                                                <div style={{fontSize: 'var(--text-sm)', color: 'var(--color-text-secondary)'}}>{t('risk')}</div>
                                                <div className="font-semibold">{analysisResult.issue.riskScore}/10</div>
                                            </div>
                                        </div>

                                        {/* Safety Warnings */}
                                        {analysisResult.issue.riskScore > 5 && (
                                            <div className="alert alert-warning mb-6">
                                                <p className="alert-title">
                                                    <i className="fas fa-exclamation-triangle mr-2"></i>
                                                    {t('safetyWarning')}
                                                </p>
                                                <ul style={{fontSize: 'var(--text-sm)', marginTop: 'var(--space-2)'}}>
                                                    {analysisResult.issue.safetyWarnings.map((warning, idx) => (
                                                        <li key={idx}>‚Ä¢ {warning}</li>
                                                    ))}
                                                </ul>
                                            </div>
                                        )}

                                        {/* Action Buttons */}
                                        <div className="flex gap-4">
                                            <button
                                                onClick={() => startRepair(analysisResult.issue)}
                                                className="btn btn-success flex-1"
                                            >
                                                <i className="fas fa-wrench mr-2"></i>
                                                {t('startRepair')}
                                            </button>
                                            <button
                                                onClick={() => setCurrentView('home')}
                                                className="btn btn-secondary flex-1"
                                            >
                                                <i className="fas fa-phone mr-2"></i>
                                                {t('callExpert')}
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Repair Steps View */}
                        {currentView === 'repair' && selectedIssue && (
                            <div className="max-w-lg mx-auto">
                                <div className="card">
                                    {/* Progress Bar */}
                                    <div className="progress" style={{borderRadius: 0}}>
                                        <div
                                            className="progress-bar"
                                            style={{ width: `${((currentStep + 1) / selectedIssue.steps.length) * 100}%` }}
                                        ></div>
                                    </div>

                                    {/* Tools Needed */}
                                    <div style={{background: 'var(--color-info-light)', padding: 'var(--space-6)', borderBottom: '1px solid var(--color-border)'}}>
                                        <h3 style={{fontWeight: 'var(--font-semibold)', color: '#0c4a6e', marginBottom: 'var(--space-3)'}}>
                                            <i className="fas fa-toolbox mr-2"></i>
                                            {t('toolsNeeded')}
                                        </h3>
                                        <div className="tool-list">
                                            {selectedIssue.tools.map((tool, idx) => (
                                                <span key={idx} className="tool-item">
                                                    {tool}
                                                </span>
                                            ))}
                                        </div>
                                    </div>

                                    {/* Current Step */}
                                    <div className="card-body">
                                        <div className="mb-6">
                                            <h2 style={{fontSize: 'var(--text-2xl)', fontWeight: 'var(--font-bold)', marginBottom: 'var(--space-4)'}}>
                                                {t('step')} {currentStep + 1} {t('of')} {selectedIssue.steps.length}
                                            </h2>

                                            <div className="step-box">
                                                <div style={{fontSize: 'var(--text-6xl)', marginBottom: 'var(--space-4)'}}>
                                                    {selectedIssue.steps[currentStep].icon}
                                                </div>
                                                <p style={{fontSize: 'var(--text-xl)', fontWeight: 'var(--font-semibold)', marginBottom: 'var(--space-2)'}}>
                                                    {selectedIssue.steps[currentStep].action}
                                                </p>
                                                <p className="text-secondary">
                                                    <i className="fas fa-clock mr-2"></i>
                                                    {t('timeRequired')}: {selectedIssue.steps[currentStep].time}
                                                </p>
                                            </div>
                                        </div>

                                        {/* All Steps Overview */}
                                        <div className="mb-6">
                                            <h3 style={{fontWeight: 'var(--font-semibold)', marginBottom: 'var(--space-3)'}}>{t('allStepsOverview')}</h3>
                                            <div className="steps-timeline">
                                                {selectedIssue.steps.map((step, idx) => (
                                                    <div
                                                        key={idx}
                                                        className={`step-item ${
                                                            idx === currentStep
                                                                ? 'step-item-active'
                                                                : idx < currentStep
                                                                    ? 'step-item-completed'
                                                                    : 'step-item-pending'
                                                        }`}
                                                    >
                                                        <span style={{marginRight: 'var(--space-3)', fontSize: 'var(--text-2xl)'}}>{step.icon}</span>
                                                        <span className="flex-1" style={{fontWeight: idx === currentStep ? 'var(--font-semibold)' : 'normal'}}>
                                                            {step.step}. {step.action}
                                                        </span>
                                                        {idx < currentStep && (
                                                            <i className="fas fa-check-circle" style={{color: 'var(--color-success)'}}></i>
                                                        )}
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        {/* Navigation */}
                                        <div className="flex gap-4">
                                            <button
                                                onClick={() => setCurrentStep(Math.max(0, currentStep - 1))}
                                                disabled={currentStep === 0}
                                                className={`btn flex-1 ${currentStep === 0 ? 'btn-secondary' : 'btn-secondary'}`}
                                                style={currentStep === 0 ? {opacity: 0.5, cursor: 'not-allowed'} : {}}
                                            >
                                                <i className="fas fa-arrow-left mr-2"></i>
                                                {t('prevStep')}
                                            </button>
                                            {currentStep < selectedIssue.steps.length - 1 ? (
                                                <button
                                                    onClick={() => setCurrentStep(currentStep + 1)}
                                                    className="btn btn-primary flex-1"
                                                >
                                                    {t('nextStep')}
                                                    <i className="fas fa-arrow-right ml-2"></i>
                                                </button>
                                            ) : (
                                                <button
                                                    onClick={completeRepair}
                                                    className="btn btn-success flex-1"
                                                >
                                                    <i className="fas fa-check mr-2"></i>
                                                    {t('completeRepair')}
                                                </button>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* History View */}
                        {currentView === 'history' && (
                            <div className="max-w-lg mx-auto">
                                <h2 className="page-title">{t('historyTitle')}</h2>

                                {repairHistory.length === 0 ? (
                                    <div className="empty-state card">
                                        <div className="empty-state-icon"><i className="fas fa-history"></i></div>
                                        <p className="empty-state-title">{t('noRepairsYet')}</p>
                                        <p className="empty-state-desc">{t('noRepairsHint')}</p>
                                    </div>
                                ) : (
                                    <div style={{display: 'flex', flexDirection: 'column', gap: 'var(--space-4)'}}>
                                        {repairHistory.map(item => (
                                            <div key={item.id} className="card">
                                                <div className="card-body flex-between">
                                                    <div>
                                                        <h3 style={{fontWeight: 'var(--font-semibold)', fontSize: 'var(--text-lg)'}}>
                                                            {item.object} - {item.issue}
                                                        </h3>
                                                        <p className="text-muted" style={{fontSize: 'var(--text-sm)', marginTop: 'var(--space-1)'}}>
                                                            <i className="far fa-calendar mr-2"></i>
                                                            {item.date}
                                                        </p>
                                                    </div>
                                                    <div>
                                                        {item.status === 'completed' ? (
                                                            <span className="badge badge-success">
                                                                <i className="fas fa-check-circle mr-1"></i>
                                                                {t('completed')}
                                                            </span>
                                                        ) : (
                                                            <span className="badge badge-warning">
                                                                <i className="fas fa-wrench mr-1"></i>
                                                                {t('inProgress')}
                                                            </span>
                                                        )}
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        )}

                        {/* Knowledge Base View */}
                        {currentView === 'knowledge' && (
                            <div className="max-w-2xl mx-auto">
                                <h2 className="page-title">{t('databaseTitle')}</h2>

                                {/* Category Filter */}
                                <div className="category-filter">
                                    {categories.map(cat => (
                                        <button
                                            key={cat.id}
                                            onClick={() => setSelectedCategory(cat.id)}
                                            className={`category-btn ${selectedCategory === cat.id ? 'active' : ''}`}
                                        >
                                            <span style={{marginRight: 'var(--space-1)'}}>{cat.icon}</span>
                                            {cat.name}
                                        </button>
                                    ))}
                                </div>

                                {/* Results count */}
                                <p className="text-center text-secondary mb-6" style={{fontSize: 'var(--text-sm)'}}>
                                    {t('showing')} {getFilteredDatabase().length} {t('outOf')} {Object.keys(repairDatabase).length} {t('items')}
                                </p>

                                <div className="grid grid-3 gap-6">
                                    {getFilteredDatabase().map(([key, item]) => (
                                        <div key={key} className="knowledge-card">
                                            <div className="knowledge-card-header">
                                                <div className="flex-between items-center">
                                                    <h3 style={{fontWeight: 'var(--font-bold)', fontSize: 'var(--text-lg)'}}>{item.name}</h3>
                                                    <span style={{fontSize: 'var(--text-2xl)'}}>{item.icon}</span>
                                                </div>
                                            </div>
                                            <div className="p-4">
                                                <div style={{display: 'flex', flexDirection: 'column', gap: 'var(--space-3)'}}>
                                                    {item.issues.map(issue => (
                                                        <div key={issue.id} className="issue-item">
                                                            <p style={{fontWeight: 'var(--font-semibold)'}}>{issue.name}</p>
                                                            <p style={{fontSize: 'var(--text-sm)', color: 'var(--color-text-secondary)'}}>{issue.description}</p>
                                                            <div style={{marginTop: 'var(--space-2)', display: 'flex', gap: 'var(--space-4)', fontSize: 'var(--text-xs)', color: 'var(--color-text-muted)'}}>
                                                                <span><i className="fas fa-clock mr-1"></i>{issue.timeEstimate}</span>
                                                                <span><i className="fas fa-signal mr-1"></i>{issue.difficulty}</span>
                                                                <span className={`badge badge-${issue.riskScore > 5 ? 'danger' : issue.riskScore > 2 ? 'warning' : 'success'}`} style={{fontSize: 'var(--text-xs)'}}>
                                                                    {t('risk')}: {issue.riskScore}/10
                                                                </span>
                                                            </div>
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                {getFilteredDatabase().length === 0 && (
                                    <div className="empty-state card">
                                        <div className="empty-state-icon"><i className="fas fa-search"></i></div>
                                        <p className="empty-state-title">{t('noCategoryItems')}</p>
                                        <p className="empty-state-desc">{t('tryCategoryHint')}</p>
                                    </div>
                                )}

                                <div className="alert alert-info mt-8">
                                    <p className="alert-title">
                                        <i className="fas fa-info-circle mr-2"></i>
                                        {t('aboutDatabase')}
                                    </p>
                                    <p>
                                        {t('databaseInfo')}
                                    </p>
                                </div>
                            </div>
                        )}
                    </main>

                    {/* Footer */}
                    <footer className="footer">
                        <div className="container">
                            <div className="footer-grid">
                                <div>
                                    <h3 className="footer-title">{t('appName')}</h3>
                                    <p className="footer-text">
                                        {t('footerSlogan')}
                                    </p>
                                </div>
                                <div>
                                    <h3 className="footer-title">{t('footerFeatures')}</h3>
                                    <ul className="footer-links">
                                        <li>‚Ä¢ {t('footerAI')}</li>
                                        <li>‚Ä¢ {t('footer500guides')}</li>
                                        <li>‚Ä¢ {t('footerSafety')}</li>
                                        <li>‚Ä¢ {t('footerHistory')}</li>
                                    </ul>
                                </div>
                                <div>
                                    <h3 className="footer-title">{t('footerContact')}</h3>
                                    <p className="footer-text">
                                        support@fixo.app<br/>
                                        "{t('footerQuote')}"
                                    </p>
                                </div>
                            </div>
                            <div className="footer-bottom">
                                {t('footerCopyright')}
                            </div>
                        </div>
                    </footer>
                </div>
            );
        }

        // Render aplikace
        ReactDOM.render(<FixoApp />, document.getElementById('root'));
    </script>
</body>
</html>
